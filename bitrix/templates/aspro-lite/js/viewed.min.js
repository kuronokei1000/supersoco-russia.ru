void 0===window.JViewed&&(JViewed=function(){},JViewed.prototype={get site(){return arAsproOptions.SITE_ID},get cookieName(){return"LITE_VIEWED_ITEMS_"+this.site},get cookieParams(){return{path:"/",expires:30}},get cookieValue(){let value={},bCookieJson=$.cookie.json;$.cookie.json=!0;try{value=$.cookie(this.cookieName),"object"==typeof value&&value||(value={})}catch(e){console.error(e),value={}}finally{$.cookie.json=bCookieJson}return value},set cookieValue(value){let bCookieJson=$.cookie.json;$.cookie.json=!0;try{"object"==typeof value&&value||(value={}),$.cookie(this.cookieName,value,this.cookieParams)}catch(e){console.error(e)}finally{$.cookie.json=bCookieJson}},get storageValue(){let value={};try{void 0!==BX.localStorage&&(value=BX.localStorage.get(this.cookieName),"object"==typeof value&&value||(value={}))}catch(e){console.error(e),value={}}return value},set storageValue(value){try{void 0!==BX.localStorage&&("object"==typeof value&&value||(value={}),BX.localStorage.set(this.cookieName,value,2592e3))}catch(e){console.error(e)}},getProducts:function(){let storageValue=this.storageValue,cookieValue=this.cookieValue;for(var i in storageValue)void 0===cookieValue[i]&&delete storageValue[i];return storageValue},addProduct:function(id,data){if(void 0!==id&&id&&"object"==typeof data&&data)try{let productId=void 0!==data.PRODUCT_ID?data.PRODUCT_ID:id,products=this.getProducts();void 0!==products[productId]&&products[productId].ID!=id&&delete products[productId];let time=(new Date).getTime();data.ID=id,data.ACTIVE_FROM=time,products[productId]=data;let cookieValue={};for(var i in products)cookieValue[i]=[products[i].ACTIVE_FROM.toString(),products[i].PICTURE_ID,products[i].IBLOCK_ID];this.cookieValue=cookieValue,this.storageValue=products}catch(e){console.error(e)}},clearProducts:function(){try{void 0!==BX.localStorage&&BX.localStorage.set(this.cookieName,{},0),$.removeCookie(this.cookieName,this.cookieParams)}catch(e){console.error(e)}}},JViewed.get=function(){return"object"==typeof JViewed.instance&&JViewed.instance&&JViewed.instance instanceof JViewed||(JViewed.instance=new JViewed),JViewed.instance});
//# sourceMappingURL=viewed.min.js.map